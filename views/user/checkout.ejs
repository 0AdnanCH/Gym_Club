<!doctype html>
<html lang="en">


<!-- Mirrored from risingtheme.com/html/demo-suruchi-v1/suruchi/checkout.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 23 Nov 2024 05:25:38 GMT -->

<head>
    <meta charset="utf-8">
    <title>Suruchi - Checkout</title>
    <meta name="description" content="Morden Bootstrap HTML5 Template">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico">

    <!-- ======= All CSS Plugins here ======== -->
    <link rel="stylesheet" href="css/plugins/swiper-bundle.min.css">
    <link rel="stylesheet" href="css/plugins/glightbox.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"
        rel="stylesheet">
    
    <!-- Plugin css -->
    <link rel="stylesheet" href="css/vendor/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- Custom Style CSS -->
    <link rel="stylesheet" href="css/style.css">
    <style>
        .add-address-cont,
        .edit-address-cont {
            display: none;
        }

        .error-message,
        .display-none {
            display: none;
        }
        .address-active{
            /* border: 1px solid red; */
            padding: 10px;
            box-shadow: 0 4px 12px rgba(255, 220, 220, 0.8);
            margin-bottom: 10px;
            border-color: #007bff;
            background-color: #FFECEC;

        }
        .custom-swal-popup .swal2-html-container {
           font-size: 15px;
        }
        .applied-coupon {
            pointer-events: none;
            opacity: 0.6;
        }
        footer {
            margin-top: 100px;
        }
    </style>
</head>

<body>
    <!-- Start checkout page area -->
    <div class="checkout__page--area">
        <div class="container">
            <div class="checkout__page--inner d-flex">
                <div class="main checkout__mian">
                    <header class="main__header checkout__mian--header mb-30">
                        <h1 class="main__logo--title"><a class="logo logo__left mb-20 h3" href="/"><img
                                    src="img/logo/nav-log1.png" alt="logo">GYM CLUB</a></h1>
                        <details class="order__summary--mobile__version">
                            <summary class="order__summary--toggle border-radius-5">
                                <span class="order__summary--toggle__inner">
                                    <span class="order__summary--toggle__icon">
                                        <svg width="20" height="19" xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M17.178 13.088H5.453c-.454 0-.91-.364-.91-.818L3.727 1.818H0V0h4.544c.455 0 .91.364.91.818l.09 1.272h13.45c.274 0 .547.09.73.364.18.182.27.454.18.727l-1.817 9.18c-.09.455-.455.728-.91.728zM6.27 11.27h10.09l1.454-7.362H5.634l.637 7.362zm.092 7.715c1.004 0 1.818-.813 1.818-1.817s-.814-1.818-1.818-1.818-1.818.814-1.818 1.818.814 1.817 1.818 1.817zm9.18 0c1.004 0 1.817-.813 1.817-1.817s-.814-1.818-1.818-1.818-1.818.814-1.818 1.818.814 1.817 1.818 1.817z"
                                                fill="currentColor"></path>
                                        </svg>
                                    </span>
                                    <span class="order__summary--toggle__text show">
                                        <span>Show order summary</span>
                                        <svg width="11" height="6" xmlns="http://www.w3.org/2000/svg"
                                            class="order-summary-toggle__dropdown" fill="currentColor">
                                            <path
                                                d="M.504 1.813l4.358 3.845.496.438.496-.438 4.642-4.096L9.504.438 4.862 4.534h.992L1.496.69.504 1.812z">
                                            </path>
                                        </svg>
                                    </span>
                                    <span class="order__summary--final__price">$227.70</span>
                                </span>
                            </summary>
                            <div class="order__summary--section">
                                <div class="cart__table checkout__product--table">
                                    <table class="summary__table">
                                        <tbody class="summary__table--body">
                                            <tr class=" summary__table--items">
                                                <td class=" summary__table--list">
                                                    <div class="product__image two  d-flex align-items-center">
                                                        <div class="product__thumbnail border-radius-5">
                                                            <a href="#"><img class="border-radius-5"
                                                                    src="img/product/small-product7.png"
                                                                    alt="cart-product"></a>
                                                            <span class="product__thumbnail--quantity">1</span>
                                                        </div>
                                                        <div class="product__description">
                                                            <h3 class="product__description--name h4"><a
                                                                    href="#">Fresh-whole-fish</a>
                                                            </h3>
                                                            <span class="product__description--variant">COLOR:
                                                                Blue</span>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td class=" summary__table--list">
                                                    <span class="cart__price">£65.00</span>
                                                </td>
                                            </tr>
                                            <tr class="summary__table--items">
                                                <td class=" summary__table--list">
                                                    <div class="cart__product d-flex align-items-center">
                                                        <div class="product__thumbnail border-radius-5">
                                                            <a href="#"><img class="border-radius-5"
                                                                    src="img/product/small-product2.png"
                                                                    alt="cart-product"></a>
                                                            <span class="product__thumbnail--quantity">1</span>
                                                        </div>
                                                        <div class="product__description">
                                                            <h3 class="product__description--name h4"><a
                                                                    href="#">Vegetable-healthy</a>
                                                            </h3>
                                                            <span class="product__description--variant">COLOR:
                                                                Green</span>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td class=" summary__table--list">
                                                    <span class="cart__price">£82.00</span>
                                                </td>
                                            </tr>
                                            <tr class=" summary__table--items">
                                                <td class=" summary__table--list">
                                                    <div class="cart__product d-flex align-items-center">
                                                        <div class="product__thumbnail border-radius-5">
                                                            <a href="#"><img class="border-radius-5"
                                                                    src="img/product/small-product4.png"
                                                                    alt="cart-product"></a>
                                                            <span class="product__thumbnail--quantity">1</span>
                                                        </div>
                                                        <div class="product__description">
                                                            <h3 class="product__description--name h4"><a
                                                                    href="#">Raw-onions-surface</a>
                                                            </h3>
                                                            <span class="product__description--variant">COLOR:
                                                                White</span>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td class=" summary__table--list">
                                                    <span class="cart__price">£78.00</span>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="checkout__discount--code d-flex">
                                    <label>
                                        <input class="checkout__discount--code__input--field border-radius-5"
                                            placeholder="Gift card or discount code" type="text">
                                    </label>
                                    <button class="checkout__discount--code__btn primary__btn border-radius-5"
                                        type="submit">Apply Coupon</button>
                                </div>
                                <div class="checkout__total">
                                    <table class="checkout__total--table">
                                        <tbody class="checkout__total--body">
                                            <tr class="checkout__total--items">
                                                <td class="checkout__total--title text-left">Subtotal </td>
                                                <td class="checkout__total--amount text-right">$860.00</td>
                                            </tr>
                                            <tr class="checkout__total--items">
                                                <td class="checkout__total--title text-left">Shipping</td>
                                                <td class="checkout__total--calculated__text text-right">Calculated at
                                                    next step</td>
                                            </tr>
                                        </tbody>
                                        <tfoot class="checkout__total--footer">
                                            <tr class="checkout__total--footer__items">
                                                <td
                                                    class="checkout__total--footer__title checkout__total--footer__list text-left">
                                                    Total </td>
                                                <td
                                                    class="checkout__total--footer__amount checkout__total--footer__list text-right">
                                                    $860.00</td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </details>
                        <nav>
                            <ol class="breadcrumb checkout__breadcrumb d-flex" id="breadcrumb">
                                <li class="breadcrumb__item breadcrumb__item--completed d-flex align-items-center">
                                    <a class="breadcrumb__link" href="/getCart">Cart</a>
                                    <svg class="readcrumb__chevron-icon" xmlns="http://www.w3.org/2000/svg"
                                        width="17.007" height="16.831" viewBox="0 0 512 512">
                                        <path fill="none" stroke="currentColor" stroke-linecap="round"
                                            stroke-linejoin="round" stroke-width="48" d="M184 112l144 144-144 144">
                                        </path>
                                    </svg>
                                </li>

                                <li class="breadcrumb__item breadcrumb__item--current d-flex align-items-center">
                                    <span class="breadcrumb__text current">Checkout</span>
                                </li>
                            </ol>
                        </nav>
                    </header>
                    <main class="main__content_wrapper">
                        <div class="checkout__content--step section__shipping--address">
                            <div class="section__header mb-25">
                                <h3 class="section__header--title" id="shipping-address">Shipping address</h3>
                            </div>

                            <!-- dynamic add address display -->
                            <% if(userAddress.length>0) { %>
                                <button class="new__address--btn primary__btn mb-25" id="add-open-btn" type="button">Add
                                    a new address</button>
                                <% } else { %>
                                    <h4>No Addressess found in your account</h4>
                                    <p>add a delivery address.</p>
                                    <% } %>

                                        <!-- for add a new address -->
                                        <div class="add-address-cont" id="add-address-cont">
                                            <form onsubmit="return addAddressSubmit(event)">
                                                <div class="row row-cols-1 justify-content-center my-5">
                                                    <div class="col">
                                                        <div class="account__login">
                                                            <div class="account__login--header mb-25">
                                                                <h2 class="account__login--header__title h3 mb-10">Add a
                                                                    new address</h2>
                                                            </div>
                                                            <div class="account__login--inner">
                                                                <div class="row">
                                                                    <div class="col-6">
                                                                        <label for="name">Name</label>
                                                                        <input class="account__login--input" type="text"
                                                                            id="name" placeholder="Name">
                                                                        <div class="text-danger error-message"
                                                                            id="name-error"></div>
                                                                    </div>
                                                                    <div class="col-6">
                                                                        <label for="phone-no">Mobile number</label>
                                                                        <input class="account__login--input" type="text"
                                                                            id="phone-no"
                                                                            placeholder="10-digit mobile number">
                                                                        <div class="text-danger error-message"
                                                                            id="phoneNo-error"></div>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-6">
                                                                        <label for="pincode">Pincode</label>
                                                                        <input class="account__login--input" type="text"
                                                                            id="pincode" placeholder="Pincode">
                                                                        <div class="text-danger error-message"
                                                                            id="pincode-error"></div>
                                                                    </div>
                                                                    <div class="col-6">
                                                                        <label for="locality">Locality</label>
                                                                        <input class="account__login--input" type="text"
                                                                            id="locality" placeholder="Locality">
                                                                        <div class="text-danger error-message"
                                                                            id="locality-error"></div>
                                                                    </div>
                                                                </div>
                                                                <div>
                                                                    <label for="address">Address (Area and
                                                                        Street)</label>
                                                                    <textarea id="address" class="account__login--input"
                                                                        style="width: 100%; height: 130px;"></textarea>
                                                                    <div class="text-danger error-message"
                                                                        id="address-error"></div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-6">
                                                                        <label for="place">City/District/Town</label>
                                                                        <input class="account__login--input" type="text"
                                                                            id="place" placeholder="City/District/Town">
                                                                        <div class="text-danger error-message"
                                                                            id="place-error"></div>
                                                                    </div>
                                                                    <div class="col-6">
                                                                        <label for="state">State</label>
                                                                        <input class="account__login--input" type="text"
                                                                            id="state" placeholder="Locality">
                                                                        <div class="text-danger error-message"
                                                                            id="state-error"></div>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-6">
                                                                        <label for="landmark">Landmark
                                                                            (Optional)</label>
                                                                        <input class="account__login--input" type="text"
                                                                            id="landmark" placeholder="Landmark">
                                                                        <div class="text-danger error-message"
                                                                            id="landmark-error"></div>
                                                                    </div>
                                                                    <div class="col-6">
                                                                        <label for="alt-phone">Alternate Phone
                                                                            (Optional)</label>
                                                                        <input class="account__login--input" type="text"
                                                                            id="alt-phone"
                                                                            placeholder="Alternate Phone">
                                                                        <div class="text-danger error-message"
                                                                            id="phoneNo2-error"></div>
                                                                    </div>
                                                                </div>
                                                                <h5>Address Type</h5>
                                                                <div class="row mb-5">
                                                                    <div class="col-lg-2 d-flex">
                                                                        <input class="me-3" type="radio" value="home"
                                                                            name="address-type" id="type-home">
                                                                        <label for="type-home">Home</label>
                                                                    </div>
                                                                    <div class="col-lg-2 d-flex">
                                                                        <input class="me-3" type="radio" value="work"
                                                                            name="address-type" id="type-work">
                                                                        <label for="type-work">Work</label>
                                                                    </div>
                                                                    <div class="text-danger error-message"
                                                                        id="addType-error"></div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-2">
                                                                        <button class="account__login--btn primary__btn"
                                                                            type="submit">Save</button>
                                                                    </div>
                                                                    <div class="col-2">
                                                                        <button class="account__login--btn primary__btn" style="padding-left: 12px"
                                                                            id="add-close-btn"
                                                                            type="button">Cancel</button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>

                                        <!-- for display address -->
                                        <% if(userAddress.length>0) { %>
                                            <table class="cart__table--inner">
                                                <tbody class="cart__table--body">
                                                    <% for(let i=0; i< userAddress.length; i++) { %>
                                                        <tr>
                                                            <td>
                                                                <div class="form-check ms-1 address-check-cont" id="address-check-cont<%= i %>">
                                                                    <input type="radio" class="form-check-input address-check"
                                                                        id="address-check<%= i %>" name="address-check" value="<%= userAddress[i]._id %>" onclick="addressCheck('<%= i %>')" checked>
                                                                    <label class="form-check-label"
                                                                        for="address-check<%= i %>">&nbsp;</label>
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div id="address-info<%= i %>" class="address-info">
                                                                    <div class="account__details two">
                                                                        <h4 class="account__details--title">
                                                                            <%= userAddress[i].addressType %>
                                                                        </h4>
                                                                        <div class="d-flex">
                                                                            <h5 class="my-0 me-4">
                                                                                <%= userAddress[i].name %>
                                                                            </h5>
                                                                            <h5 class="m-0">
                                                                                <%= userAddress[i].phone %>
                                                                            </h5>
                                                                        </div>
                                                                        <p class="account__details--desc m-0">
                                                                            <%= userAddress[i].address %>, <%=
                                                                                    userAddress[i].locality %>, <%=
                                                                                        userAddress[i].place %>, <%=
                                                                                            userAddress[i].state %> -
                                                                                            <%= userAddress[i].pincode
                                                                                                %>
                                                                        </p>
                                                                    </div>
                                                                    <div class="account__details--footer d-flex mb-5">
                                                                        <button class="account__details--footer__btn"
                                                                            id="edit-open-btn<%= i %>"
                                                                            type="button">Edit</button>
                                                                        <button class="account__details--footer__btn"
                                                                            onclick="return deleteAddress('<%= userAddress[i]._id %>', '<%= i %>')"
                                                                            type="button">Delete</button>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        <!-- for edit address -->
                                                        <div class="edit-address-cont" id="edit-address-cont<%= i %>">
                                                            <form
                                                                onsubmit="return editAddressSubmit(event, '<%= i %>', '<%= userAddress[i]._id %>')">
                                                                <div class="row row-cols-1 justify-content-center my-5">
                                                                    <div class="col">
                                                                        <div class="account__login">
                                                                            <div class="account__login--header mb-25">
                                                                                <h2
                                                                                    class="account__login--header__title h3 mb-10">
                                                                                    Edit address</h2>
                                                                            </div>
                                                                            <div class="account__login--inner">
                                                                                <div class="row">
                                                                                    <div class="col-6">
                                                                                        <label
                                                                                            for="name<%= i %>">Name</label>
                                                                                        <input
                                                                                            class="account__login--input"
                                                                                            type="text"
                                                                                            id="name<%= i %>"
                                                                                            placeholder="Name"
                                                                                            value="<%= userAddress[i].name %>">
                                                                                        <div class="text-danger error-message"
                                                                                            id="name-error<%= i %>">
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-6">
                                                                                        <label
                                                                                            for="phone-no<%= i %>">Mobile
                                                                                            number</label>
                                                                                        <input
                                                                                            class="account__login--input"
                                                                                            type="text"
                                                                                            id="phone-no<%= i %>"
                                                                                            value="<%= userAddress[i].phone %>"
                                                                                            placeholder="10-digit mobile number">
                                                                                        <div class="text-danger error-message"
                                                                                            id="phoneNo-error<%= i %>">
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="row">
                                                                                    <div class="col-6">
                                                                                        <label
                                                                                            for="pincode<%= i %>">Pincode</label>
                                                                                        <input
                                                                                            class="account__login--input"
                                                                                            type="text"
                                                                                            id="pincode<%= i %>"
                                                                                            value="<%= userAddress[i].pincode %>"
                                                                                            placeholder="Pincode">
                                                                                        <div class="text-danger error-message"
                                                                                            id="pincode-error<%= i %>">
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-6">
                                                                                        <label
                                                                                            for="locality<%= i %>">Locality</label>
                                                                                        <input
                                                                                            class="account__login--input"
                                                                                            type="text"
                                                                                            id="locality<%= i %>"
                                                                                            value="<%= userAddress[i].locality %>"
                                                                                            placeholder="Locality">
                                                                                        <div class="text-danger error-message"
                                                                                            id="locality-error<%= i %>">
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div>
                                                                                    <label for="address<%= i %>">Address
                                                                                        (Area and Street)</label>
                                                                                    <textarea id="address<%= i %>"
                                                                                        class="account__login--input"
                                                                                        style="width: 100%; height: 130px;"><%= userAddress[i].address %></textarea>
                                                                                    <div class="text-danger error-message"
                                                                                        id="address-error<%= i %>">
                                                                                    </div>
                                                                                </div>
                                                                                <div class="row">
                                                                                    <div class="col-6">
                                                                                        <label
                                                                                            for="place<%= i %>">City/District/Town</label>
                                                                                        <input
                                                                                            class="account__login--input"
                                                                                            type="text"
                                                                                            id="place<%= i %>"
                                                                                            value="<%= userAddress[i].place %>"
                                                                                            placeholder="City/District/Town">
                                                                                        <div class="text-danger error-message"
                                                                                            id="place-error<%= i %>">
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-6">
                                                                                        <label
                                                                                            for="state<%= i %>">State</label>
                                                                                        <input
                                                                                            class="account__login--input"
                                                                                            type="text"
                                                                                            id="state<%= i %>"
                                                                                            value="<%= userAddress[i].state %>"
                                                                                            placeholder="Locality">
                                                                                        <div class="text-danger error-message"
                                                                                            id="state-error<%= i %>">
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="row">
                                                                                    <% if(userAddress[i].landmark) { %>
                                                                                        <div class="col-6">
                                                                                            <label
                                                                                                for="landmark<%= i %>">Landmark
                                                                                                (Optional)</label>
                                                                                            <input
                                                                                                class="account__login--input"
                                                                                                type="text"
                                                                                                id="landmark<%= i %>"
                                                                                                value="<%= userAddress[i].landmark %>"
                                                                                                placeholder="Landmark">
                                                                                            <div class="text-danger error-message"
                                                                                                id="landmark-error<%= i %>">
                                                                                            </div>
                                                                                        </div>
                                                                                        <% } else { %>
                                                                                            <div class="col-6">
                                                                                                <label
                                                                                                    for="landmark<%= i %>">Landmark
                                                                                                    (Optional)</label>
                                                                                                <input
                                                                                                    class="account__login--input"
                                                                                                    type="text"
                                                                                                    id="landmark<%= i %>"
                                                                                                    placeholder="Landmark">
                                                                                                <div class="text-danger error-message"
                                                                                                    id="landmark-error<%= i %>">
                                                                                                </div>
                                                                                            </div>
                                                                                            <% } %>
                                                                                                <% if(userAddress[i].alternatePhone)
                                                                                                    { %>
                                                                                                    <div class="col-6">
                                                                                                        <label
                                                                                                            for="alt-phone<%= i %>">Alternate
                                                                                                            Phone
                                                                                                            (Optional)</label>
                                                                                                        <input
                                                                                                            class="account__login--input"
                                                                                                            type="text"
                                                                                                            id="alt-phone<%= i %>"
                                                                                                            value="<%= userAddress[i].alternatePhone %>"
                                                                                                            placeholder="Alternate Phone">
                                                                                                        <div class="text-danger error-message"
                                                                                                            id="phoneNo2-error<%= i %>">
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <% } else { %>
                                                                                                        <div
                                                                                                            class="col-6">
                                                                                                            <label
                                                                                                                for="alt-phone<%= i %>">Alternate
                                                                                                                Phone
                                                                                                                (Optional)</label>
                                                                                                            <input
                                                                                                                class="account__login--input"
                                                                                                                type="text"
                                                                                                                id="alt-phone<%= i %>"
                                                                                                                placeholder="Alternate Phone">
                                                                                                            <div class="text-danger error-message"
                                                                                                                id="phoneNo2-error<%= i %>">
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <% } %>
                                                                                </div>
                                                                                <h5>Address Type</h5>
                                                                                <div class="row mb-5">
                                                                                    <% if(userAddress[i].addressType==='home'
                                                                                        ) { %>
                                                                                        <div class="col-lg-2 d-flex">
                                                                                            <input class="me-3" checked
                                                                                                type="radio"
                                                                                                value="home"
                                                                                                name="address-type"
                                                                                                id="type-home<%= i %>">
                                                                                            <label
                                                                                                for="type-home<%= i %>">Home</label>
                                                                                        </div>
                                                                                        <div class="col-lg-2 d-flex">
                                                                                            <input class="me-3"
                                                                                                type="radio"
                                                                                                value="work"
                                                                                                name="address-type"
                                                                                                id="type-work<%= i %>">
                                                                                            <label
                                                                                                for="type-work<%= i %>">Work</label>
                                                                                        </div>
                                                                                        <div class="text-danger error-message"
                                                                                            id="addType-error<%= i %>">
                                                                                        </div>
                                                                                        <% } else { %>
                                                                                            <div
                                                                                                class="col-lg-2 d-flex">
                                                                                                <input class="me-3"
                                                                                                    type="radio"
                                                                                                    value="home"
                                                                                                    name="address-type"
                                                                                                    id="type-home<%= i %>">
                                                                                                <label
                                                                                                    for="type-home<%= i %>">Home</label>
                                                                                            </div>
                                                                                            <div
                                                                                                class="col-lg-2 d-flex">
                                                                                                <input class="me-3"
                                                                                                    checked type="radio"
                                                                                                    value="work"
                                                                                                    name="address-type"
                                                                                                    id="type-work<%= i %>">
                                                                                                <label
                                                                                                    for="type-work<%= i %>">Work</label>
                                                                                            </div>
                                                                                            <div class="text-danger error-message"
                                                                                                id="addType-error<%= i %>">
                                                                                            </div>
                                                                                            <% } %>
                                                                                </div>
                                                                                <div class="row">
                                                                                    <div class="col-2">
                                                                                        <button
                                                                                            class="account__login--btn primary__btn"
                                                                                            type="submit">Save</button>
                                                                                    </div>
                                                                                    <div class="col-2">
                                                                                        <button
                                                                                            class="account__login--btn primary__btn"
                                                                                            id="edit-close-btn<%= i %>"
                                                                                            type="button">Cancel</button>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </form>
                                                        </div>
                                                        <% }} %>
                                                </tbody>
                                            </table>
                        </div>
                        <div class="section__header mt-2">
                            <h3 class="section__header--title mb-2">Wallet Balance</h3>
                            <div class="d-flex align-items-center">
                                <h4 class="section__header--title me-5"><%= balance %></h4>
                                <a href="/wallet" class="section__header--desc mb-2">see more</a>
                            </div>
                        </div>
                        <div class="checkout__content--step section__shipping--address pt-5">
                            <div class="section__header mb-25">
                                <h3 class="section__header--title">Payment</h3>
                                <p class="section__header--desc">All transactions are secure and encrypted.</p>
                            </div>
                            <div class="checkout__content--step__inner3 border-radius-5">
                                <div class="checkout__address--content__header d-flex align-items-center justify-content-between">
                                    <label for="razorpay" class="checkout__address--content__title">Razorpay</label>
                                    <div class="form-check ms-1">
                                        <input type="radio" id="razorpay" value="razorpay" class="form-check-input address-check" name="pay-method">
                                    </div>
                                </div>
                                <div class="checkout__address--content__header d-flex align-items-center justify-content-between">
                                    <label for="wallet" class="checkout__address--content__title">Wallet</label>
                                    <div class="form-check ms-1">
                                        <input type="radio" id="wallet" value="wallet" class="form-check-input address-check" name="pay-method">
                                    </div>
                                </div>
                                <div class="checkout__address--content__header d-flex align-items-center justify-content-between">
                                    <label for="cod" class="checkout__address--content__title">Cash on Delivery</label>
                                    <div class="form-check ms-1">
                                        <input type="radio" id="cod" value="cod" class="form-check-input address-check" name="pay-method">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="checkout__content--step__footer d-flex align-items-center">
                                <button type="button" id="place-order-btn" class="continue__shipping--btn primary__btn border-radius-5">Place Order</button>
                            <a class="previous__link--content" href="/getCart">Return to cart</a>
                        </div>
                    </main>
                </div>
                <!-- order summary section -------------------------------->
                <aside class="checkout__sidebar sidebar">
                    <div class="cart__table checkout__product--table">
                        <table class="cart__table--inner">
                            <tbody class="cart__table--body">
                                <% for(let i=0; i<cart.items.length; i++) { %>
                                    <tr class="cart__table--body__items">
                                        <td class="cart__table--body__list">
                                            <div class="product__image two  d-flex align-items-center">
                                                <div class="product__thumbnail border-radius-5">
                                                    <a href="#"><img class="border-radius-5"
                                                            src="<%= cart.items[i].image %>" alt="cart-product"></a>
                                                    <span class="product__thumbnail--quantity">
                                                        <%= cart.items[i].quantity%>
                                                    </span>
                                                </div>
                                                <div class="product__description">
                                                    <h3 class="product__description--name h3"><a
                                                            href="#"><%= cart.items[i].productId.productName %></a></h3>
                                                    <span class="color__variant"><b class="h5">Color:</b>
                                                        <%= cart.items[i].color %>
                                                    </span>
                                                    <span class="color__variant"><b class="h5">Size:</b>
                                                        <%= cart.items[i].size %>
                                                    </span>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="cart__table--body__list">
                                            <span class="cart__price">
                                                <%= cart.items[i].price %>
                                            </span>
                                        </td>
                                    </tr>
                                    <% } %>
                            </tbody>
                        </table>
                    </div>
                    <div class="checkout__discount--code d-flex">
                        <% if(coupon) { %>
                            <label id="conpon-label">
                                <input id="coupon-code" class="display-none checkout__discount--code__input--field border-radius-5"
                                    placeholder="Coupon code" type="text">
                            </label>
                            <button id="apply-coupon-btn" class="display-none checkout__discount--code__btn primary__btn border-radius-5"
                                type="button">Apply</button>
                            <h4 id="coupon-text" class="text-success">Coupon Applied</h4>
                            <button id="remove-coupon-btn" onclick="removeCoupon(false)" class="checkout__discount--code__btn primary__btn border-radius-5"
                            type="button">Remove Coupon</button>
                        <% } else { %>
                            <label id="conpon-label">
                                <input id="coupon-code" class="checkout__discount--code__input--field border-radius-5"
                                    placeholder="Coupon code" type="text">
                            </label>
                            <button id="apply-coupon-btn" class="checkout__discount--code__btn primary__btn border-radius-5"
                                type="button">Apply</button>
                            <h4 id="coupon-text" class="display-none text-success">Coupon Applied</h4>
                            <button id="remove-coupon-btn" onclick="removeCoupon(false)" class="display-none checkout__discount--code__btn primary__btn border-radius-5"
                            type="button">Remove Coupon</button>
                        <% } %>
                    </div>
                    <div class="checkout__total">
                        <table class="checkout__total--table">
                            <tbody class="checkout__total--body">
                                <tr class="checkout__total--items">
                                    <td class="checkout__total--title text-left">Subtotal </td>
                                    <% if(coupon) { %>
                                    <td id="sub-total" class="checkout__total--amount text-right"><%= coupon.subtotal %>
                                    </td>
                                    <% } else { %>
                                        <td id="sub-total" class="checkout__total--amount text-right"><%= cart.subtotal %>
                                        </td>
                                    <% } %>
                                </tr>
                                <% if(coupon) { %>
                                    <tr class="checkout__total--items">
                                        <td id="discount-cont" class="checkout__total--title text-left">Discount Amount</td>
                                        <td id="discount-price" class="checkout__total--amount text-right"><%= coupon.discountPrice %></td>
                                    </tr>
                                <% } else { %>
                                    <tr class="checkout__total--items" >
                                        <td id="discount-cont" class="checkout__total--title text-left d-none">Discount Amount</td>
                                        <td id="discount-price" class="checkout__total--amount text-right d-none"></td>

                                    </tr>
                                <% } %>
                                <tr class="checkout__total--items">
                                    <td class="checkout__total--title text-left">Shipping Cost</td>
                                    <td class="checkout__total--amount text-right">5</td>
                                </tr>
                            </tbody>
                            <tfoot class="checkout__total--footer">
                                <tr class="checkout__total--footer__items">
                                    <td class="checkout__total--footer__title checkout__total--footer__list text-left">
                                    Grand Total </td>
                                    <% if(coupon) { %>
                                        <td
                                        class="checkout__total--footer__amount checkout__total--footer__list text-right" id="total-amount">
                                        <%= Number(coupon.payableAmount) + 5 %> 
                                    </td>
                                    <% } else { %>
                                        <td
                                            class="checkout__total--footer__amount checkout__total--footer__list text-right" id="total-amount">
                                            <%= cart.totalAmount + 5 %>
                                        </td>
                                    <% } %>   
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </aside>
            </div>
        </div>
    </div>
    <!-- End checkout page area -->


    <!-- Start footer section -->
    <%- include('../partials/user/footer') %>
    <!-- End footer section -->

    <!-- Scroll top bar -->
    <button id="scroll__top"><svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512">
            <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48"
                d="M112 244l144-144 144 144M256 120v292" />
        </svg></button>

    <!-- razorpay script -->
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>    
    <!-- All Script JS Plugins here  -->
    <script src="js/vendor/popper.js" defer="defer"></script>
    <script src="js/vendor/bootstrap.min.js" defer="defer"></script>
    <script src="js/plugins/swiper-bundle.min.js"></script>
    <script src="js/plugins/glightbox.min.js"></script>

    <!-- Customscript js -->
    <script src="js/script.js"></script>

    <script>
        let noOfAddress = Number('<%= userAddress.length %>');
        const addressLength = Number('<%= userAddress.length %>');
        // for add address modal
        function openAddAddress() {
            document.getElementById('add-address-cont').style.display = 'block';
        }
        function closeAddAddress() {
            clearForm();
            document.getElementById('add-address-cont').style.display = 'none';
            window.location.href = '#breadcrumb'
        }
        if (addressLength === 0) {
            document.getElementById('add-address-cont').style.display = 'block';
        } else {
            const openAddbtn = document.getElementById('add-open-btn');
            const closeAddbtn = document.getElementById('add-close-btn');
            openAddbtn.addEventListener('click', openAddAddress);
            closeAddbtn.addEventListener('click', closeAddAddress);
        }


        // for edit address modal
        for (let i = 0; i < addressLength; i++) {
            const openEditbtn = document.getElementById('edit-open-btn' + i);
            const closeEditbtn = document.getElementById('edit-close-btn' + i);
            openEditbtn.addEventListener('click', () => {
                document.querySelectorAll('.edit-address-cont').forEach(element => element.style.display = 'none');
                document.querySelectorAll('.address-info').forEach(element => element.style.display = 'block');
                document.querySelectorAll('.address-check-cont').forEach(element => element.style.display = 'block');
                document.getElementById('address-info' + i).style.display = 'none';
                document.getElementById('address-check-cont' + i).style.display = 'none';
                document.getElementById('edit-address-cont' + i).style.display = 'block';
            });
            closeEditbtn.addEventListener('click', () => {
                document.getElementById('address-info' + i).style.display = 'block';
                document.getElementById('address-check-cont' + i).style.display = 'block';
                document.getElementById('edit-address-cont' + i).style.display = 'none';
                window.location.href = '#breadcrumb'
            });
        }

        // for add address
        async function addAddressSubmit(event) {
            event.preventDefault();
            try {
                if (!validateAddForm()) {
                    return;
                }
                const name = document.getElementById('name').value;
                const phoneNo = document.getElementById('phone-no').value;
                const pincode = document.getElementById('pincode').value;
                const locality = document.getElementById('locality').value;
                const address = document.getElementById('address').value;
                const place = document.getElementById('place').value;
                const state = document.getElementById('state').value;
                const landmark = document.getElementById('landmark').value;
                const phoneNo2 = document.getElementById('alt-phone').value;
                const homeAddType = document.getElementById('type-home');
                const workAddType = document.getElementById('type-work');
                let addressType
                if (homeAddType.checked) {
                    addressType = homeAddType.value;
                } else {
                    addressType = workAddType.value;
                }
                const response = await fetch('/addAddress?id=<%= userId %>', {
                    method: 'POST',
                    headers: {
                        'content-type': 'application/json'
                    },
                    body: JSON.stringify({ name, phoneNo, pincode, locality, address, place, state, landmark, phoneNo2, addressType })
                });
                const data = await response.json();
                if (!response.ok) {
                    throw new Error(data.message);
                }
                if(data.success) {
                    Swal.fire({
                        position: "top-end",
                        icon: 'success',
                        title: 'Address added Successfully',
                        showConfirmButton: false,
                        timer: 1500,
                        customClass: {
                            popup: 'custom-swal-popup'
                        }
                    })
                    .then(() => {
                        noOfAddress++;
                        window.location.reload();
                    })
                }
            } catch (error) {
                Swal.fire({
                    position: "top-end",
                    icon: "error",
                    title: "Oops...",
                    text: error.message,
                    showConfirmButton: false,
                    timer: 1500,
                    customClass: {
                        popup: 'custom-swal-popup'
                    }
                });
            }
        }

        // for delete address
        async function deleteAddress(id, i) {
            try {
                const response = await fetch(`/deleteAddress?id=${id}`, {method: 'DELETE'});
                const data = await response.json();
                if (!response.ok) {
                    throw new Error(data.message);
                }
                if(data.success) {
                    Swal.fire({
                        position: "top-end",
                        icon: 'success',
                        title: 'Address deleted Successfully',
                        showConfirmButton: false,
                        timer: 1500,
                        customClass: {
                            popup: 'custom-swal-popup'
                        }
                    })
                    .then(() => {
                        noOfAddress--;
                        const deleteAddInfo = document.getElementById('address-info' + i)
                        deleteAddInfo.style.display = 'none';
                        const addCheck = document.getElementById('address-check-cont' + i)
                        addCheck.style.display = 'none';
                        addCheck.classList.remove('address-check-cont')
                        deleteAddInfo.classList.remove('address-info')
                        if(noOfAddress === 0) {
                            document.getElementById('add-address-cont').style.display = 'block';
                        }
                    })
                }
            } catch (error) {
                Swal.fire({
                    position: "top-end",
                    icon: "error",
                    title: "Oops...",
                    text: error.message,
                    showConfirmButton: false,
                    timer: 1500,
                    customClass: {
                        popup: 'custom-swal-popup'
                    }
                });
            }
        }



        // for edit address
        async function editAddressSubmit(event, i, addressId) {
            event.preventDefault();
            try {
                if (!validateEditForm(i)) {
                    return;
                }
                const name = document.getElementById('name' + i).value;
                const phoneNo = document.getElementById('phone-no' + i).value;
                const pincode = document.getElementById('pincode' + i).value;
                const locality = document.getElementById('locality' + i).value;
                const address = document.getElementById('address' + i).value;
                const place = document.getElementById('place' + i).value;
                const state = document.getElementById('state' + i).value;
                const landmark = document.getElementById('landmark' + i).value;
                const phoneNo2 = document.getElementById('alt-phone' + i).value;
                const homeAddType = document.getElementById('type-home' + i);
                const workAddType = document.getElementById('type-work' + i);
                let addressType
                if (homeAddType.checked) {
                    addressType = homeAddType.value;
                } else {
                    addressType = workAddType.value;
                }
                const response = await fetch(`/editAddress?id=${addressId}`, {
                    method: 'PUT',
                    headers: {
                        'content-type': 'application/json'
                    },
                    body: JSON.stringify({ name, phoneNo, pincode, locality, address, place, state, landmark, phoneNo2, addressType })
                });
                const data = await response.json();
                if (!response.ok) {
                    throw new Error(data.message);
                }
                if(data.success) {
                    Swal.fire({
                        position: "top-end",
                        icon: 'success',
                        title: 'Address edited Successfully',
                        showConfirmButton: false,
                        timer: 1500,
                        customClass: {
                            popup: 'custom-swal-popup'
                        }
                    })
                    .then(() => {
                        window.location.reload();
                    })
                }
            } catch (error) {
                Swal.fire({
                    position: "top-end",
                    icon: "error",
                    title: "Oops...",
                    text: error.message,
                    showConfirmButton: false,
                    timer: 1500,
                    customClass: {
                        popup: 'custom-swal-popup'
                    }
                });
            }
        }

    async function applyCoupon(event) {
        event.preventDefault();
        try {
            const cartId = '<%= cart._id %>';
            const code = document.getElementById('coupon-code').value;
            if(!code) {
                return
            }
            const response = await fetch('/applyCoupon', {
                method: 'POST',
                headers: {
                    'content-type': 'application/json'
                },
                body: JSON.stringify({code, cartId})
            });
            const data = await response.json();
            if(!response.ok) {
                if(data.redirectUrl) {
                   return window.location.href = data.redirectUrl;
                }
                throw new Error(data.message);
            }
            if(data.success) {
                Swal.fire({
                    position: "top-end",
                    icon: 'success',
                    title: 'Coupon Applied Successfully',
                    showConfirmButton: false,
                    timer: 1500,
                    customClass: {
                        popup: 'custom-swal-popup'
                    }
                })
                const shippingCost = 5;
                document.getElementById('coupon-code').value = '';
                document.getElementById('total-amount').innerHTML = Number(data.payableAmount) + shippingCost;
                document.getElementById('coupon-code').style.display = 'none';
                document.getElementById('discount-cont').classList.remove('d-none');
                document.getElementById('discount-price').classList.remove('d-none');
                document.getElementById('discount-price').innerText = data.discountPrice;
                document.getElementById('apply-coupon-btn').style.display = 'none';
                document.getElementById('remove-coupon-btn').style.display = 'block';
                document.getElementById('coupon-text').style.display = 'block';
            }
        } catch (error) {
            Swal.fire({
                position: "top-end",
                icon: "error",
                title: "Oops...",
                text: error.message,
                showConfirmButton: false,
                timer: 1500,
                customClass: {
                    popup: 'custom-swal-popup'
                }
            })
        }
    }
    // setting apply coupon event on apply button
    
    document.getElementById('apply-coupon-btn').addEventListener('click', applyCoupon);
  

    // for removing coupon 
    async function removeCoupon (noMsg) {
        try {
            const response = await fetch('removeCoupon', {method: 'DELETE'});
            const data = await response.json();
            if(!response.ok) {
                if(data.redirectUrl) {
                   return window.location.href = data.redirectUrl;
                }
                throw new Error(data.message);
            }
            if(data.success) {
                if(!noMsg) {
                    Swal.fire({
                        position: "top-end",
                        icon: 'success',
                        title: 'Coupon removed Successfully',
                        showConfirmButton: false,
                        timer: 1500,
                        customClass: {
                            popup: 'custom-swal-popup'
                        }
                    });
                }
                const shippingCost = 5;
                document.getElementById('discount-price').classList.add('d-none');
                document.getElementById('discount-cont').classList.add('d-none');
                document.getElementById('remove-coupon-btn').style.display = 'none';
                document.getElementById('coupon-text').style.display = 'none';
                document.getElementById('coupon-code').style.display = 'block';
                document.getElementById('apply-coupon-btn').style.display = 'block';
                document.getElementById('total-amount').innerHTML = Number(data.totalAmount) + shippingCost;
            }
        } catch (error) {
            Swal.fire({
                position: "top-end",
                icon: "error",
                title: "Oops...",
                text: error.message,
                showConfirmButton: false,
                timer: 1500,
                customClass: {
                    popup: 'custom-swal-popup'
                }
            })
        }
    }

    // all the payment script

     // for place order button
     function placeOrder(event) {
        event.preventDefault();
        // checking address checked or not
        const addressCheck = document.getElementsByName('address-check');
            let addressId;
            for(let i=0; i<addressCheck.length; i++) {
                if(addressCheck[i].checked) {
                    addressId = addressCheck[i].value;
                    break; 
                }
            }
            if(!addressId) {
                Swal.fire({
                    position: "top-end",
                    icon: "error",
                    title: "Oops...",
                    text: 'Please give Shipping address.',
                    showConfirmButton: false,
                    timer: 1500,
                    customClass: {
                        popup: 'custom-swal-popup'
                    }
                });
                return;
            }
        // checking payment method selected or not
        const payMethods = document.getElementsByName('pay-method');
            let payMethod;
            for(let i=0; i<payMethods.length; i++) {
                if(payMethods[i].checked) {
                    payMethod = payMethods[i].value;
                    break; 
                }
            }
            if(!payMethod) {
                Swal.fire({
                    position: "top-end",
                    icon: "error",
                    title: "Oops...",
                    text: 'Please select a payment method.',
                    showConfirmButton: false,
                    timer: 1500,
                    customClass: {
                        popup: 'custom-swal-popup'
                    }
                });
                return;
            }
            if(payMethod === 'cod') {
                const amount = Number(document.getElementById('total-amount').innerHTML);
                if(amount > 1000) {
                    Swal.fire({
                        position: "top-end",
                        icon: "error",
                        title: "Oops...",
                        text: 'Orders above Rs 1000 cannot be paid with Cash on Delivery. Please choose another payment method.',
                        showConfirmButton: true,
                        customClass: {
                            popup: 'custom-swal-popup'
                        }
                    });
                    return;
                }
                codPay(addressId);
            } else if(payMethod === 'razorpay') {
                razorpay(event, addressId);
            } else if(payMethod === 'wallet') {
                walletPay(addressId);
            }
    }
    const placeOrderBtn = document.getElementById('place-order-btn')
    placeOrderBtn.addEventListener('click', placeOrder)

    // for cash on delivery payment method
    async function codPay(id) {
        try {
            const response = await fetch(`/codpayment?id=${id}`, { method: 'POST' });
            const data = await response.json();
            if (!response.ok) {
                if(data.redirectUrl) {
                    window.location.href = data.redirectUrl
                }
                if(data.coupon) {
                    removeCoupon(true);
                }
                throw new Error(data.message);
            }
            if(data.success) {
                Swal.fire({
                    position: "top-end",
                    icon: 'success',
                    title: 'Order Placed Successfully',
                    showConfirmButton: false,
                    timer: 1500,
                    customClass: {
                        popup: 'custom-swal-popup'
                    }
                })
                .then(() => {
                    if(data.redirectUrl) {
                        window.location.href = data.redirectUrl;
                    }
                })
            }
        } catch (error) {
            Swal.fire({
                position: "top-end",
                icon: "error",
                title: "Oops...",
                text: error.message,
                showConfirmButton: false,
                timer: 1500,
                customClass: {
                    popup: 'custom-swal-popup'
                }
            });
        }
    }

    //for razorpay payment method 
    async function razorpay(event, addressId) {
        try {
            const response = await fetch(`/createOrder?id=${addressId}`, { method: 'POST' });
            const data = await response.json();
            if(!response.ok) {
                if(data.redirectUrl) {
                    window.location.href = data.redirectUrl;
                }
                if(data.coupon) {
                    removeCoupon(true);
                }
                throw new Error(data.message);
            }
            const order = data.razorpayOrder;
            const options = {
                key: data.razorpayId,
                amount: order.amount,
                currency: order.currency,
                name: 'GYM CLUB',
                description: 'Test Transaction',
                order_id: order.id,
                prefill: {
                    name: data.userAddress.name,
                    email: data.email,
                    contact: data.userAddress.phone
                },
                theme: {
                    color: '#F37254'
                },
                handler: async function (response) {
                    try {
                        const res = await fetch(`/verifyPayment?orderId=${data.orderId}`, {
                            method: 'POST',
                            headers: {
                            'Content-Type': 'application/json',
                            'x-razorpay-signature': response.razorpay_signature
                            },
                            body: JSON.stringify({
                            razorpay_order_id: response.razorpay_order_id,
                            razorpay_payment_id: response.razorpay_payment_id
                            })
                        });
                        const verifydata = await res.json();
                        if(!res.ok) {
                            if(verifydata.redirectUrl) {
                                window.location.href = verifydata.redirectUrl;
                            }
                            if(verifydata.coupon) {
                                removeCoupon(true);
                            }
                            if(verifydata.status !== 500) {
                                await Swal.fire({
                                    position: "top-end",
                                    icon: "error",
                                    title: "Oops...",
                                    text: verifydata.message,
                                    showConfirmButton: false,
                                    timer: 2000,
                                    customClass: {
                                        popup: 'custom-swal-popup'
                                    }
                                })
                                .then(() => {
                                    return window.location.href = `/orderSubmit?id=${data.orderId}`;
                                })
                            }
                            throw new Error(verifydata.message);
                        }
                        if(verifydata.success) {
                            window.location.href = `/orderSubmit?id=${data.orderId}`;
                        }
                    } catch (error) {
                        Swal.fire({
                            position: "top-end",
                            icon: "error",
                            title: "Oops...",
                            text: error.message,
                            showConfirmButton: false,
                            timer: 1500,
                            customClass: {
                                popup: 'custom-swal-popup'
                            }
                        });
                    }
                },
                modal: {
                    ondismiss: () => {
                        window.location.href = `/orderSubmit?id=${data.orderId}`;
                    } 
                }
            }
            const rzp = new Razorpay(options);
            rzp.open();
        } catch (error) {
            Swal.fire({
                position: "top-end",
                icon: "error",
                title: "Oops...",
                text: error.message,
                showConfirmButton: false,
                timer: 1500,
                customClass: {
                    popup: 'custom-swal-popup'
                }
            });
        }
    }

    async function walletPay(addressId) {
        try {
            const response = await fetch(`/walletPayment?addressId=${addressId}`, { method: 'POST' });
            const data = await response.json();
            if (!response.ok) {
                if(data.redirectUrl) {
                    window.location.href = data.redirectUrl
                }
                if(data.coupon) {
                    removeCoupon(true);
                }
                throw new Error(data.message);
            }
            if(data.success) {
                Swal.fire({
                    position: "top-end",
                    icon: 'success',
                    title: 'Order Placed Successfully',
                    showConfirmButton: false,
                    timer: 1500,
                    customClass: {
                        popup: 'custom-swal-popup'
                    }
                })
                .then(() => {
                    if(data.redirectUrl) {
                        window.location.href = data.redirectUrl;
                    }
                })
            }
        } catch (error) {
            Swal.fire({
                position: "top-end",
                icon: "error",
                title: "Oops...",
                text: error.message,
                showConfirmButton: false,
                timer: 1500,
                customClass: {
                    popup: 'custom-swal-popup'
                }
            });
        }
    }


        const addCheck = document.getElementsByName('address-check');
            for (let i=0; i<addCheck.length; i++) {
                if(addCheck[i].checked) {
                    const addressInfo = document.getElementById('address-info'+i);
                    const allAddressInfo = document.querySelectorAll('.address-info');
                    allAddressInfo.forEach((element) => element.classList.remove('address-active'));
                    addressInfo.classList.add('address-active');  
                }
            }

        // for selecting address
        function addressCheck(index) {
            const addressInfo = document.getElementById('address-info'+index);
            //const alladdCheckBtn = document.querySelectorAll('address-check');
            const allAddressInfo = document.querySelectorAll('.address-info');
            allAddressInfo.forEach((element) => element.classList.remove('address-active'));
            addressInfo.classList.add('address-active');    
        }




        // for clearing add address form
        function clearForm() {
            document.getElementById('name').value = '';
            document.getElementById('phone-no').value = '';
            document.getElementById('pincode').value = '';
            document.getElementById('locality').value = '';
            document.getElementById('address').value = '';
            document.getElementById('place').value = '';
            document.getElementById('state').value = '';
            document.getElementById('landmark').value = '';
            document.getElementById('alt-phone').value = '';

            const nameError = document.getElementById('name-error');
            const phoneNoError = document.getElementById('phoneNo-error');
            const pincodeError = document.getElementById('pincode-error');
            const localityError = document.getElementById('locality-error');
            const addressError = document.getElementById('address-error');
            const placeError = document.getElementById('place-error');
            const stateError = document.getElementById('state-error');
            const landmarkError = document.getElementById('landmark-error');
            const phoneNo2Error = document.getElementById('phoneNo2-error');
            const addTypeError = document.getElementById('addType-error');

            nameError.textContent = '';
            nameError.style.display = 'none';

            phoneNoError.textContent = '';
            phoneNoError.style.display = 'none';

            pincodeError.textContent = '';
            pincodeError.style.display = 'none';

            localityError.textContent = '';
            localityError.style.display = 'none';

            addressError.textContent = '';
            addressError.style.display = 'none';

            placeError.textContent = '';
            placeError.style.display = 'none';

            stateError.textContent = '';
            stateError.style.display = 'none';

            landmarkError.textContent = '';
            landmarkError.style.display = 'none';

            phoneNo2Error.textContent = '';
            phoneNo2Error.style.display = 'none';

            addTypeError.textContent = '';
            addTypeError.style.display = 'none';
        }


        //validation for add Addresss
        function validateAddForm() {
            let isValid = true;

            const name = document.getElementById('name').value;
            const phoneNo = document.getElementById('phone-no').value;
            const pincode = document.getElementById('pincode').value;
            const locality = document.getElementById('locality').value;
            const address = document.getElementById('address').value;
            const place = document.getElementById('place').value;
            const state = document.getElementById('state').value;
            const landmark = document.getElementById('landmark').value;
            const phoneNo2 = document.getElementById('alt-phone').value;
            const homeAddType = document.getElementById('type-home');
            const workAddType = document.getElementById('type-work');

            const nameError = document.getElementById('name-error');
            const phoneNoError = document.getElementById('phoneNo-error');
            const pincodeError = document.getElementById('pincode-error');
            const localityError = document.getElementById('locality-error');
            const addressError = document.getElementById('address-error');
            const placeError = document.getElementById('place-error');
            const stateError = document.getElementById('state-error');
            const landmarkError = document.getElementById('landmark-error');
            const phoneNo2Error = document.getElementById('phoneNo2-error');
            const addTypeError = document.getElementById('addType-error');

            nameError.textContent = '';
            nameError.style.display = 'none';

            phoneNoError.textContent = '';
            phoneNoError.style.display = 'none';

            pincodeError.textContent = '';
            pincodeError.style.display = 'none';

            localityError.textContent = '';
            localityError.style.display = 'none';

            addressError.textContent = '';
            addressError.style.display = 'none';

            placeError.textContent = '';
            placeError.style.display = 'none';

            stateError.textContent = '';
            stateError.style.display = 'none';

            landmarkError.textContent = '';
            landmarkError.style.display = 'none';

            phoneNo2Error.textContent = '';
            phoneNo2Error.style.display = 'none';

            addTypeError.textContent = '';
            addTypeError.style.display = 'none';



            if (name.trim() === "") { //for name
                isValid = false;
                nameError.textContent = 'Please enter a name.';
                nameError.style.display = 'block';
            } else if (!/^[a-zA-Z\s]+$/.test(name.trim())) {
                isValid = false;
                nameError.textContent = 'name should contain only alphabetic characters.';
                nameError.style.display = 'block';
            }
            if (phoneNo.trim() === "" || !/^\d+$/.test(phoneNo)) { //for phone number
                isValid = false;
                phoneNoError.textContent = 'Please enter a 10 digit Phone number.';
                phoneNoError.style.display = 'block';
            } else if (phoneNo.length !== 10) {
                isValid = false;
                phoneNoError.textContent = 'Please enter a 10 digit phone number.';
                phoneNoError.style.display = 'block';
            }
            if (pincode.trim() === "" || !/^\d+$/.test(pincode)) { //for pincode number
                isValid = false;
                pincodeError.textContent = 'Please enter your pincode.';
                pincodeError.style.display = 'block';
            } else if (pincode.length !== 6) {
                isValid = false;
                pincodeError.textContent = 'Please enter your pincode.';
                pincodeError.style.display = 'block';
            }
            if (locality.trim() === "") { // for locality 
                isValid = false;
                localityError.textContent = 'Please enter your pincode.';
                localityError.style.display = 'block';
            }
            if (address.trim() === "") { // for address 
                isValid = false;
                addressError.textContent = 'Please enter your address.';
                addressError.style.display = 'block';
            }
            if (place.trim() === "") { // for place  
                isValid = false;
                placeError.textContent = 'Please enter your "City/District/Town".';
                placeError.style.display = 'block';
            }
            if (state.trim() === "") { // for state  
                isValid = false;
                stateError.textContent = 'Please enter your state.';
                stateError.style.display = 'block';
            }
            if (phoneNo2) {
                if (phoneNo2.trim() === "" || !/^\d+$/.test(phoneNo2)) { //for phone number
                    isValid = false;
                    phoneNo2Error.textContent = 'Please enter a 10 digit Phone number.';
                    phoneNo2Error.style.display = 'block';
                } else if (phoneNo2.length !== 10) {
                    isValid = false;
                    phoneNo2Error.textContent = 'Please enter a 10 digit phone number.';
                    phoneNo2Error.style.display = 'block';
                }
            }
            if (!homeAddType.checked && !workAddType.checked) {
                isValid = false;
                addTypeError.textContent = 'Please select an address type.';
                addTypeError.style.display = 'block';
            }

            return isValid
        }



        // validate for edit form
        function validateEditForm(i) {
            let isValid = true;
            const name = document.getElementById('name' + i).value;
            const phoneNo = document.getElementById('phone-no' + i).value;
            const pincode = document.getElementById('pincode' + i).value;
            const locality = document.getElementById('locality' + i).value;
            const address = document.getElementById('address' + i).value;
            const place = document.getElementById('place' + i).value;
            const state = document.getElementById('state' + i).value;
            const landmark = document.getElementById('landmark' + i).value;
            const phoneNo2 = document.getElementById('alt-phone' + i).value;
            const homeAddType = document.getElementById('type-home' + i);
            const workAddType = document.getElementById('type-work' + i);

            const nameError = document.getElementById('name-error' + i);
            const phoneNoError = document.getElementById('phoneNo-error' + i);
            const pincodeError = document.getElementById('pincode-error' + i);
            const localityError = document.getElementById('locality-error' + i);
            const addressError = document.getElementById('address-error' + i);
            const placeError = document.getElementById('place-error' + i);
            const stateError = document.getElementById('state-error' + i);
            const landmarkError = document.getElementById('landmark-error' + i);
            const phoneNo2Error = document.getElementById('phoneNo2-error' + i);
            const addTypeError = document.getElementById('addType-error' + i);

            nameError.textContent = '';
            nameError.style.display = 'none';

            phoneNoError.textContent = '';
            phoneNoError.style.display = 'none';

            pincodeError.textContent = '';
            pincodeError.style.display = 'none';

            localityError.textContent = '';
            localityError.style.display = 'none';

            addressError.textContent = '';
            addressError.style.display = 'none';

            placeError.textContent = '';
            placeError.style.display = 'none';

            stateError.textContent = '';
            stateError.style.display = 'none';

            landmarkError.textContent = '';
            landmarkError.style.display = 'none';

            phoneNo2Error.textContent = '';
            phoneNo2Error.style.display = 'none';

            addTypeError.textContent = '';
            addTypeError.style.display = 'none';


            if (name.trim() === "") { //for name
                isValid = false;
                nameError.textContent = 'Please enter a name.';
                nameError.style.display = 'block';
            } else if (!/^[a-zA-Z\s]+$/.test(name.trim())) {
                isValid = false;
                nameError.textContent = 'name should contain only alphabetic characters.';
                nameError.style.display = 'block';
            }
            if (phoneNo.trim() === "" || !/^\d+$/.test(phoneNo)) { //for phone number
                isValid = false;
                phoneNoError.textContent = 'Please enter a 10 digit Phone number.';
                phoneNoError.style.display = 'block';
            } else if (phoneNo.length !== 10) {
                isValid = false;
                phoneNoError.textContent = 'Please enter a 10 digit phone number.';
                phoneNoError.style.display = 'block';
            }
            if (pincode.trim() === "" || !/^\d+$/.test(pincode)) { //for pincode number
                isValid = false;
                pincodeError.textContent = 'Please enter your pincode.';
                pincodeError.style.display = 'block';
            } else if (pincode.length !== 6) {
                isValid = false;
                pincodeError.textContent = 'Please enter your pincode.';
                pincodeError.style.display = 'block';
            }
            if (locality.trim() === "") { // for locality 
                isValid = false;
                localityError.textContent = 'Please enter your pincode.';
                localityError.style.display = 'block';
            }
            if (address.trim() === "") { // for address 
                isValid = false;
                addressError.textContent = 'Please enter your address.';
                addressError.style.display = 'block';
            }
            if (place.trim() === "") { // for place  
                isValid = false;
                placeError.textContent = 'Please enter your "City/District/Town".';
                placeError.style.display = 'block';
            }
            if (state.trim() === "") { // for state  
                isValid = false;
                stateError.textContent = 'Please enter your state.';
                stateError.style.display = 'block';
            }
            if (phoneNo2) {
                if (phoneNo2.trim() === "" || !/^\d+$/.test(phoneNo2)) { //for phone number
                    isValid = false;
                    phoneNo2Error.textContent = 'Please enter a 10 digit Phone number.';
                    phoneNo2Error.style.display = 'block';
                } else if (phoneNo2.length !== 10) {
                    isValid = false;
                    phoneNo2Error.textContent = 'Please enter a 10 digit phone number.';
                    phoneNo2Error.style.display = 'block';
                }
            }
            if (!homeAddType.checked && !workAddType.checked) {
                isValid = false;
                addTypeError.textContent = 'Please select an address type.';
                addTypeError.style.display = 'block';
            }

            return isValid;
        }

        // // function for to show selected address
        // function selectedAddress() {

        // }




    </script>



</body>

<!-- Mirrored from risingtheme.com/html/demo-suruchi-v1/suruchi/checkout.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 23 Nov 2024 05:25:38 GMT -->

</html>