<!doctype html>
<html lang="en">


<!-- Mirrored from risingtheme.com/html/demo-suruchi-v1/suruchi/wishlist.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 23 Nov 2024 05:25:18 GMT -->
<head>
  <meta charset="utf-8">
  <title>Suruchi - Wishlist</title>
  <meta name="description" content="Morden Bootstrap HTML5 Template">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico">
    
    <!-- ======= All CSS Plugins here ======== -->
  <link rel="stylesheet" href="css/plugins/swiper-bundle.min.css">
  <link rel="stylesheet" href="css/plugins/glightbox.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap" rel="stylesheet">

  <!-- Plugin css -->
  <link rel="stylesheet" href="css/vendor/bootstrap.min.css">

  <!-- Custom Style CSS -->
  <link rel="stylesheet" href="css/style.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <style>
    .addtocart-btn {
      pointer-events: none;
      opacity: 0.6;
    }
  </style>
</head>

<body>

    <!-- Start header area -->
    <%- include('../partials/user/header') %>
    <!-- End header area --> 

    <main class="main__content_wrapper">
        
        <!-- Start breadcrumb section -->
        <section class="breadcrumb__section breadcrumb__bg">
            <div class="container">
                <div class="row row-cols-1">
                    <div class="col">
                        <div class="breadcrumb__content text-center">
                            <h1 class="breadcrumb__content--title text-white mb-25">Wishlist</h1>
                            <ul class="breadcrumb__content--menu d-flex justify-content-center">
                                <li class="breadcrumb__content--menu__items"><a class="text-white" href="/">Home</a></li>
                                <li class="breadcrumb__content--menu__items"><span class="text-white">Wishlist</span></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- End breadcrumb section -->

        <!-- cart section start -->
        <section class="cart__section section--padding">
            <div class="container">
                <div class="cart__section--inner">
                    <form action="#"> 
                        <h2 class="cart__title mb-40">Wishlist</h2>
                        <div class="cart__table">
                            <table class="cart__table--inner">
                                <thead class="cart__table--header">
                                    <tr class="cart__table--header__items">
                                        <th class="cart__table--header__list">Product</th>
                                        <th class="cart__table--header__list">Price</th>
                                        <th class="cart__table--header__list text-center">STOCK STATUS</th>
                                        <th class="cart__table--header__list text-right">ADD TO CART</th>
                                    </tr>
                                </thead>
                                <tbody class="cart__table--body">
                                  <% if(wishlist && wishlist.length>0) { %>
                                    <% for(let i = 0; i<wishlist.length; i++) { %>
                                    <tr class="cart__table--body__items" id="item-cont<%= i %>">
                                        <td class="cart__table--body__list">
                                            <div class="cart__product d-flex align-items-center">
                                                <button class="cart__remove--btn" onclick="return removeItems(event, '<%= wishlist[i]._id %>', '<%= i %>')" aria-label="search button" type="button">
                                                    <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="16px" height="16px"><path d="M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z"/></svg>
                                                </button>
                                                <div class="cart__thumbnail">
                                                    <a href="#"><img class="border-radius-5" src="<%= wishlist[i].image %>" alt="cart-product"></a>
                                                </div>
                                                <div class="cart__content">
                                                    <h4 class="cart__content--title"><a href="#"><%= wishlist[i].productId.productName %></a></h4>
                                                    <span class="cart__content--variant">COLOR: <%= wishlist[i].color %></span>
                                                    <span class="cart__content--variant">SIZE: <%= wishlist[i].size %></span>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="cart__table--body__list">
                                            <span class="cart__price"><%= wishlist[i].price %></span>
                                        </td>
                                        <td class="cart__table--body__list text-center">
                                          <% if(wishlist[i].available) { %>
                                            <span class="in__stock text-success">in stock</span>
                                          <% } else { %>
                                            <span class="in__stock text__secondary">out of stock</span>
                                          <% } %>
                                        </td>
                                        <td class="cart__table--body__list text-right">
                                            <% if( wishlist[i].available) { %>
                                              <button class="wishlist__cart--btn primary__btn" type="button" onclick="return addtoCart(event, '<%= wishlist[i].productId._id %>', '<%= wishlist[i].color %>', '<%= wishlist[i].size %>', '<%= wishlist[i]._id %>', '<%= i %>')">Add To Cart</button>
                                            <% } else { %>
                                              <button class="wishlist__cart--btn primary__btn addtocart-btn" type="button">Add To Cart</button>
                                            <% } %>
                                        </td>
                                    </tr>
                                    <% }} %>
                                </tbody>
                            </table> 
                            <div class="continue__shopping d-flex justify-content-between">
                                <a class="continue__shopping--link" href="/">Continue shopping</a>
                                <a class="continue__shopping--clear" href="/shop">View All Products</a>
                            </div>
                        </div> 
                    </form> 
                </div>
            </div>     
        </section>
        <!-- cart section end -->

       <!-- Start product section -->
       <section class="product__section section--padding pt-0 mt-5">
        <div class="container-fluid">
            <div class="section__heading text-center mb-35">
                <h2 class="section__heading--maintitle">New Products</h2>
            </div>
            <div class="tab_content">
                <div id="featured" class="tab_pane active show">
                    <div class="product__section--inner">
                        <div class="row row-cols-xl-5 row-cols-lg-4 row-cols-md-3 row-cols-2 mb--n30">
                            <% if(product && product.length > 0) { %>
                            <% for(let i = 0; i<product.length; i++) { %>
                            <div class="col mb-30">
                                <div class="product__items ">
                                    <div class="product__items--thumbnail">
                                        <a class="product__items--link" href="/productDetails?id=<%= product[i]._id %>">
                                            <img class="product__items--img product__primary--img" src="/<%= product[i].variant[0].image[0] %>" alt="product-img">
                                            <img class="product__items--img product__secondary--img" src="/<%= product[i].variant[0].image[1] %>" alt="product-img">
                                        </a>

                                        <% if(product[i].offerApplied) { %>
                                            <% if(product[i].offerApplied.discountType === 'percentage') { %>
                                                <div class="product__badge">
                                                    <span class="product__badge--items sale"><%= product[i].offerApplied.discountVal %>% OFF</span>
                                                </div>
                                            <% } else { %>
                                                <div class="product__badge">
                                                    <span class="product__badge--items sale"><%= product[i].offerApplied.discountVal %>RS OFF</span>
                                                </div>
                                            <% } %>
                                        <% } %>
                                    </div>
                                    <div class="product__items--content">
                                        <h3 class="product__items--content__title h4"><a href="/productDetails?id=<%= product[i]._id %>"><%= product[i].productName %></a></h3>
                                        <div class="product__items--price">
                                            <% if(product[i].offerApplied) { %>
                                                <% if(product[i].offerApplied.discountType === 'percentage') { %>
                                                    <% let disPrice = product[i].salePrice * (product[i].offerApplied.discountVal/100) %>
                                                    <% let finalDisPrice = Math.min(disPrice, product[i].offerApplied.maxDiscount) %>
                                                    <% let finalPrice = (product[i].salePrice - finalDisPrice).toFixed(2) %>
                                                    <% if(finalPrice>0) { %>
                                                        <span class="current__price"><%= finalPrice %></span>
                                                        <span class="price__divided"></span>
                                                        <span class="old__price"><%= product[i].salePrice %></span>
                                                    <% } else { %>
                                                        <span class="current__price"><%= product[i].salePrice %></span>
                                                        <span class="price__divided"></span>
                                                        <span class="old__price"><%= product[i].regularPrice %></span>
                                                    <% } %>
                                                <% } else { %>
                                                    <% let finalPrice = (product[i].salePrice - product[i].offerApplied.discountVal).toFixed(2) %>
                                                    <% if(finalPrice>0) { %>
                                                        <span class="current__price"><%= finalPrice %></span>
                                                        <span class="price__divided"></span>
                                                        <span class="old__price"><%= product[i].salePrice %></span>
                                                    <% } else { %>
                                                        <span class="current__price"><%= product[i].salePrice %></span>
                                                        <span class="price__divided"></span>
                                                        <span class="old__price"><%= product[i].regularPrice %></span>
                                                    <% } %>
                                                <% } %>
                                            <% } else { %>
                                                <span class="current__price"><%= product[i].salePrice %></span>
                                                <span class="price__divided"></span>
                                                <span class="old__price"><%= product[i].regularPrice %></span>
                                            <% } %>
                                        </div>
                                        <ul class="rating product__rating d-flex">
                                            <li class="rating__list">
                                                <span class="rating__list--icon">
                                                    <svg class="rating__list--icon__svg" xmlns="http://www.w3.org/2000/svg" width="14.105" height="14.732" viewBox="0 0 10.105 9.732">
                                                    <path data-name="star - Copy" d="M9.837,3.5,6.73,3.039,5.338.179a.335.335,0,0,0-.571,0L3.375,3.039.268,3.5a.3.3,0,0,0-.178.514L2.347,6.242,1.813,9.4a.314.314,0,0,0,.464.316L5.052,8.232,7.827,9.712A.314.314,0,0,0,8.292,9.4L7.758,6.242l2.257-2.231A.3.3,0,0,0,9.837,3.5Z" transform="translate(0 -0.018)" fill="currentColor"></path>
                                                    </svg>
                                                </span>
                                            </li>
                                            <li class="rating__list">
                                                <span class="rating__list--icon">
                                                    <svg class="rating__list--icon__svg" xmlns="http://www.w3.org/2000/svg" width="14.105" height="14.732" viewBox="0 0 10.105 9.732">
                                                    <path data-name="star - Copy" d="M9.837,3.5,6.73,3.039,5.338.179a.335.335,0,0,0-.571,0L3.375,3.039.268,3.5a.3.3,0,0,0-.178.514L2.347,6.242,1.813,9.4a.314.314,0,0,0,.464.316L5.052,8.232,7.827,9.712A.314.314,0,0,0,8.292,9.4L7.758,6.242l2.257-2.231A.3.3,0,0,0,9.837,3.5Z" transform="translate(0 -0.018)" fill="currentColor"></path>
                                                    </svg>
                                                </span>
                                            </li>
                                            <li class="rating__list">
                                                <span class="rating__list--icon">
                                                    <svg class="rating__list--icon__svg" xmlns="http://www.w3.org/2000/svg" width="14.105" height="14.732" viewBox="0 0 10.105 9.732">
                                                    <path data-name="star - Copy" d="M9.837,3.5,6.73,3.039,5.338.179a.335.335,0,0,0-.571,0L3.375,3.039.268,3.5a.3.3,0,0,0-.178.514L2.347,6.242,1.813,9.4a.314.314,0,0,0,.464.316L5.052,8.232,7.827,9.712A.314.314,0,0,0,8.292,9.4L7.758,6.242l2.257-2.231A.3.3,0,0,0,9.837,3.5Z" transform="translate(0 -0.018)" fill="currentColor"></path>
                                                    </svg>
                                                </span>
                                            </li>
                                            <li class="rating__list">
                                                <span class="rating__list--icon">
                                                    <svg class="rating__list--icon__svg" xmlns="http://www.w3.org/2000/svg" width="14.105" height="14.732" viewBox="0 0 10.105 9.732">
                                                    <path data-name="star - Copy" d="M9.837,3.5,6.73,3.039,5.338.179a.335.335,0,0,0-.571,0L3.375,3.039.268,3.5a.3.3,0,0,0-.178.514L2.347,6.242,1.813,9.4a.314.314,0,0,0,.464.316L5.052,8.232,7.827,9.712A.314.314,0,0,0,8.292,9.4L7.758,6.242l2.257-2.231A.3.3,0,0,0,9.837,3.5Z" transform="translate(0 -0.018)" fill="currentColor"></path>
                                                    </svg>
                                                </span>
                                            </li>
                                            <li class="rating__list">
                                                <span class="rating__list--icon">
                                                    <svg class="rating__list--icon__svg" xmlns="http://www.w3.org/2000/svg" width="14.105" height="14.732" viewBox="0 0 10.105 9.732">
                                                    <path data-name="star - Copy" d="M9.837,3.5,6.73,3.039,5.338.179a.335.335,0,0,0-.571,0L3.375,3.039.268,3.5a.3.3,0,0,0-.178.514L2.347,6.242,1.813,9.4a.314.314,0,0,0,.464.316L5.052,8.232,7.827,9.712A.314.314,0,0,0,8.292,9.4L7.758,6.242l2.257-2.231A.3.3,0,0,0,9.837,3.5Z" transform="translate(0 -0.018)" fill="currentColor"></path>
                                                    </svg>
                                                </span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <% }} %>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- End product section -->

    </main>

    <!-- Start footer section -->
    <%- include('../partials/user/footer') %>
    <!-- End footer section --> 

    <!-- Scroll top bar -->
    <button id="scroll__top"><svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M112 244l144-144 144 144M256 120v292"/></svg></button>

    
  <!-- All Script JS Plugins here  -->
  <script src="js/vendor/popper.js" defer="defer"></script>
  <script src="js/vendor/bootstrap.min.js" defer="defer"></script>
  <script src="js/plugins/swiper-bundle.min.js"></script>
  <script src="js/plugins/glightbox.min.js"></script>

  <!-- Customscript js -->
  <script src="js/script.js"></script>
  <script>
    // for removing items for wishlist
    async function removeItems(event, itemId, i, isMessage = true) {
      event.preventDefault();
      try {
        const response = await fetch('/removeWishlitItem?id='+itemId, {method: 'DELETE'});
        const data = await response.json();
        if(!response.ok) {
            if(data.redirectUrl) {
                return window.location.href = data.redirectUrl;
            }
            throw new Error(data.message);
        }
        if(data.success) {
            if(isMessage) {
                Swal.fire({
                    position: "top-end",
                    icon: 'success',
                    title: 'Product removed successfully',
                    showConfirmButton: false,
                    timer: 1500,
                    customClass: {
                        popup: 'custom-swal-popup'
                    }
                })
            }
            document.getElementById('item-cont'+i).style.display = 'none';
            document.querySelectorAll('.wishlist-qty').forEach(elem => elem.innerHTML = data.itemQty);
        }
      } catch (error) {
        Swal.fire({
            position: "top-end",
            icon: "error",
            title: "Oops...",
            text: error.message,
            showConfirmButton: false,
            timer: 1500,
            customClass: {
                popup: 'custom-swal-popup'
            }
        })
      }
    }
    // for add to cart 
    async function addtoCart(event, productId, color, size, itemId, index) {
      event.preventDefault();
      try {
        const response = await fetch(`/addToCart?id=${productId}`, {
            method: 'POST',
            headers: {
            'content-type': 'application/json'
            },
            body: JSON.stringify({color, size})
        })
        const data = await response.json();
        if(!response.ok) {
            if(data.redirectUrl) {
                return window.location.href = data.redirectUrl;
            }
            throw new Error(data.message);
        }
        if(data.success) {
            Swal.fire({
                position: "top-end",
                icon: 'success',
                title: 'Product added successfully',
                showConfirmButton: false,
                timer: 1500,
                customClass: {
                    popup: 'custom-swal-popup'
                }
            })
            .then(() => {
                removeItems(event, itemId, index, false)
                document.querySelectorAll('.cart-qty').forEach(element => {
                    element.innerHTML = data.itemQty;
                });
            })
        }
      } catch (error) {
        Swal.fire({
            position: "top-end",
            icon: "error",
            title: "Oops...",
            text:error.message,
            showConfirmButton: false,
            timer: 1500,
            customClass: {
                popup: 'custom-swal-popup'
            }
        });
      }
    }
  </script>
</body>

<!-- Mirrored from risingtheme.com/html/demo-suruchi-v1/suruchi/wishlist.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 23 Nov 2024 05:25:20 GMT -->
</html>